apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseCluster",
          "metadata": {
            "name": "cb-example"
          },
          "spec": {
            "image": "registry.hub.docker.com/couchbase/server:6.5.1",
            "cluster": {
              "dataServiceMemoryQuota": "256Mi",
              "indexServiceMemoryQuota": "256Mi",
              "searchServiceMemoryQuota": "256Mi",
              "eventingServiceMemoryQuota": "256Mi",
              "analyticsServiceMemoryQuota": "1Gi",
              "indexStorageSetting": "memory_optimized",
              "autoFailoverTimeout": "120s",
              "autoFailoverMaxCount": 3,
              "autoFailoverOnDataDiskIssues": true,
              "autoFailoverOnDataDiskIssuesTimePeriod": "120s",
              "autoFailoverServerGroup": false,
              "autoCompaction": {
                "databaseFragmentationThreshold": {
                  "percent": 30,
                  "size": "1Gi"
                },
                "viewFragmentationThreshold": {
                  "percent": 30,
                  "size": "1Gi"
                },
                "parallelCompaction": false,
                "timeWindow": {
                  "start": "02:00",
                  "end": "06:00",
                  "abortCompactionOutsideWindow": true
                },
                "tombstonePurgeInterval": "72h"
              }
            },
            "security": {
              "adminSecret": "cb-example-auth",
              "rbac": {
                "managed": true,
                "selector": {
                  "matchLabels": {
                    "cluster": "cb-example"
                  }
                }
              }
            },
            "xdcr": {
               "managed": false,
                "selector": {
                  "matchLabels": {
                    "cluster": "cb-example"
                  }
                }
             },
            "backup": {
              "image": "registry.hub.docker.com/couchbase/operator-backup:6.5.1",
              "managed": false,
              "serviceAccountName": "couchbase-backup",
              "selector": {
                "matchLabels": {
                  "cluster": "cb-example"
                }
              }
            },
            "monitoring": {
              "prometheus": {
                "enabled": false,
                "image": "registry.hub.docker.com/couchbase/exporter:1.0.2"
              }
            },
            "networking": {
              "exposeAdminConsole": true,
              "adminConsoleServices": [
                "data"
              ],
              "exposedFeatures": [
                "xdcr"
              ],
              "exposedFeatureServiceType": "NodePort",
              "adminConsoleServiceType": "NodePort"
            },
            "buckets": {
              "managed": true,
              "selector": {
                "matchLabels": {
                  "cluster": "cb-example"
                }
              }
            },
            "logRetentionTime": "604800s",
            "logRetentionCount": 20,
            "securityContext": {
              "fsGroup": 1000150000
            },
            "servers": [
              {
                "size": 3,
                "name": "all_services",
                "services": [
                  "data",
                  "index",
                  "query",
                  "search",
                  "eventing",
                  "analytics"
                ]
              }
            ]
          },
          "status": {}
        },
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseBucket",
          "metadata": {
            "name": "default",
            "labels": {
              "cluster": "cb-example"
            }
          },
          "spec": {
            "memoryQuota": "100Mi",
            "replicas": 2,
            "ioPriority": "low",
            "evictionPolicy": "valueOnly",
            "conflictResolution": "lww",
            "enableFlush": false,
            "enableIndexReplica": true,
            "compressionMode": "passive"
          },
          "status": {}
        },
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseBackup",
          "metadata": {
            "name": "cb-backup",
            "labels": {
              "cluster": "cb-example"
            }
          },
          "spec": {
            "strategy": "full_incremental",
            "full": {
              "schedule": "0 3 * * 6"
            },
            "incremental": {
              "schedule": "0 3 * * 1-6"
            },
            "successfulJobsHistoryLimit": 1,
            "failedJobsHistoryLimit": 3,
            "backOffLimit": 2,
            "backupRetention": "24h",
            "logRetention": "24h",
            "size": "5Gi"
          },
          "status": {}
        },
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseUser",
          "metadata": {
            "name": "my-user",
            "labels": {
              "cluster": "cb-example"
            }
          },
          "spec": {
            "fullName": "My User",
            "authDomain": "local",
            "authSecret": "cb-example-auth"
          },
          "status": {}
        },
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseGroup",
          "metadata": {
            "name": "my-group",
            "labels": {
              "cluster": "cb-example"
            }
          },
          "spec": {
            "roles": [
              {
                "name": "bucket_admin",
                "bucket": "default"
              }
            ]
          },
          "status": {}
        },
        {
          "apiVersion": "couchbase.com/v2",
          "kind": "CouchbaseRoleBinding",
          "metadata": {
            "name": "my-role-binding"
          },
          "spec": {
            "subjects": [
              {
                "kind": "CouchbaseUser",
                "name": "my-user"
              }
            ],
            "roleRef": {
              "kind": "CouchbaseGroup",
              "name": "my-group"
            }
          },
          "status": {}
        }
      ]
    capabilities: "Auto Pilot"
    categories: "Database"
    certified: "true"
    containerImage: registry.hub.docker.com/couchbase/operator:2.0.0
    createdAt: 2020/06/09
    description: The Couchbase Autonomous Operator allows users to easily deploy, manage, and maintain Couchbase deployments
    support: Couchbase, Inc
  name: couchbase-operator.v2.0.0
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: Manages Clusters
      displayName: Couchbase Cluster
      kind: CouchbaseCluster
      name: couchbaseclusters.couchbase.com
      resources:
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      specDescriptors:
      - description: The name of the secret object that stores the admin credentials.
        displayName: Admin Secret
        path: secret.adminSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      - description:  This field specifies the image that should be used.
        displayName: Image
        path: image
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: Specifies whether to manage buckets and how to select which bucket resources to use.
        displayName: Buckets
        path: buckets
      - description: Specifies whether the Operator should manage Couchbase buckets.
        displayName: Buckets managed
        path: buckets.managed
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies the labels of buckets to be selected and managed.
        displayName: Buckets selector
        path: buckets.selector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:ConfigMap
      - description: Specifies whether the Operator should manage Couchbase RBAC.
        displayName: RBAC managed
        path: security.rbac.managed
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies the labels of RBAC resources to be selected and managed.
        displayName: RBAC selector
        path: security.rbac.selector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:ConfigMap
      - description: Specifies whether the Operator should manage Couchbase XDCR replications.
        displayName: XDCR managed
        path: xdcr.managed
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies the labels of Replication resources to be selected and managed.
        displayName: XDCR selector
        path: xdcr.selector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:ConfigMap
      - description: Defines whether the Automated Backup feature is enabled for the cluster.
        displayName: Backup enabled
        path: backup.managed
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies the labels of Backup resources to be selected and managed.
        displayName: Backup selector
        path: backup.selector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:ConfigMap
      - description: Defines whether the Prometheus metric collection is enabled for the cluster.
        displayName: Monitoring enabled
        path: monitoring.prometheus.managed
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies the labels of Backup resources to be selected and managed.
        displayName: Backup selector
        path: monitoring.prometheus.selector
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:selector:core:v1:ConfigMap
      - description: This object allows configuration of global Couchbase security settings and RBAC.
        displayName: Security
        path: security
      - description: This object allows the configuration of the Couchbase cluster topology.
        displayName: Servers
        path: servers
      - description: This object allows configuration of network related options.
        displayName: Networking
        path: networking
      - description: The name of the secret object that stores the server's TLS
          certificate.
        displayName: Server TLS Secret
        path: networking.tls.static.member.serverSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: The name of the secret object that stores the Operator's TLS
          certificate.
        displayName: Operator TLS Secret
        path: networking.tls.static.operatorSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
      - description: Specifies if the Operator will manage this cluster.
        displayName: Paused
        path: paused
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies if the Couchbase Server Web Console will be exposed
          externally.
        displayName: Expose Console
        path: networking.exposeAdminConsole
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies whether or not two pods in this cluster can be deployed
          on the same Kubernetes node.
        displayName: Anti Affinity
        path: antiAffinity
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies if update notifications will be displayed in the
          Couchbase UI.
        displayName: Show Update Notifications
        path: softwareUpdateNotifications
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: Specifies if the Operator will create or delete buckets.
        displayName: Disable Bucket Management
        path: disableBucketManagement
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: The desired number of member Pods for the Couchbase cluster.
        displayName: Size
        path: servers[0].size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:podCount
      - description: The maximum number of failover events tolerated before manual
          intervention is required.
        displayName: Auto Failover Max Count
        path: cluster.autoFailoverMaxCount
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:slider
        - urn:alm:descriptor:com.tectonic.ui:sliderStart:1
      statusDescriptors:
      - description: The desired number of member Pods for the deployment.
        displayName: Size
        path: size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:podCount
      - description: The current status of the Couchbase cluster.
        displayName: Status
        path: phase
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes.phase
      - description: Explanation for the current status of the application.
        displayName: Status Details
        path: reason
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes.phase:reason
      - description: The status of each of the member Pods for the Couchbase cluster.
        displayName: Member Status
        path: members
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:podStatuses
      - description: The current version of the Couchbase cluster.
        displayName: Current Version
        path: currentVersion
      - description: The cluster identifier as provided by the Couchbase cluster.
        displayName: Cluster ID
        path: clusterID
      - description: Specifies if the Operator is currently managing this cluster.
        displayName: Control Paused
        path: controlPaused
      - description: The port that the web console can be accessed on from any node
          in the Kubernetes cluster.
        displayName: Admin Console Port
        path: adminConsolePort
      - description: The SSL port that the web console can be accessed on from any
          node in the Kubernetes cluster.
        displayName: SSL Admin Console Port
        path: adminConsolePortSSL
      - description: Conditions for the cluster
        displayName: Conditions
        path: conditions
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes.conditions
      version: v2
    - kind: CouchbaseBucket
      name: couchbasebuckets.couchbase.com
      description: Manages Buckets
      displayName: Couchbase Bucket
      version: v2
      resources:
      - kind: CouchbaseBucket
        version: v2
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      specDescriptors:
      - description: The name of a couchbase bucket.
        displayName: Bucket Name
        path: memoryQuota
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: The number of replicas that should be created for this bucket.
        displayName: Bucket Replicas
        path: replicas
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: The IO priority of background threads for this bucket (low | high)
        displayName: IO priority
        path: ioPriority
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The in-memory cache eviction policy for this bucket (valueOnly | fullEviction)
        displayName: Eviction Policy
        path: evictionPolicy
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The bucket’s conflict resolution mechanism (seqno | lww)
        displayName: Conflict Resolution
        path: conflictResolution
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The choice to enable bucket flushing
        displayName: Enable Flush
        path: enableFlush
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      - description: The compression mode for this bucket (off | passive | active)
        displayName: Compression Mode
        path: compressionMode
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: This field specifies whether or not to enable view index replicas for this bucket.
        displayName: Enable Index Replica
        path: enableIndexReplica
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
    - kind: CouchbaseUser
      name: couchbaseusers.couchbase.com
      description: Manages RBAC Users
      displayName: Couchbase User
      version: v2
      resources:
      - kind: CouchbaseUser
        version: v2
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      specDescriptors:
      - description: The user full name.
        displayName: Full Name
        path: fullName
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The domain used to authenticate user (local | ldap)
        displayName: Auth Domain
        path: authDomain
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The Secret containing user password
        displayName: Auth Secret
        path: authSecret
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes:Secret
    - kind: CouchbaseGroup
      name: couchbasegroups.couchbase.com
      description: Manages RBAC Groups
      displayName: Couchbase Groups
      version: v2
      resources:
      - kind: CouchbaseGroup
        version: v2
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      specDescriptors:
      - description: This field is a list of roles to be associated with a user or group of users.
        displayName: Roles
        path: roles
    - kind: CouchbaseRoleBinding
      name: couchbaserolebindings.couchbase.com
      description: Manages RBAC Binding
      displayName: Couchbase Role Binding
      version: v2
      resources:
      - kind: CouchbaseRoleBinding
        version: v2
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      specDescriptors:
      - description: This field defines the resource to extract the roles from.
        displayName: Role Reference
        path: roleRef
      - description: This field is a list of subjects to a apply role to.
        displayName: Subjects
        path: subjects
    - kind: CouchbaseBackup
      name: couchbasebackups.couchbase.com
      description: Manages Backups
      displayName: Couchbase Backup
      resources:
      - kind: CronJob
        name: ""
        version: batch/v1beta1
      - kind: CouchbaseRoleBinding
        version: v2
      - kind: CouchbaseCluster
        version: v2
      - kind: ConfigMap
        version: v1
      - kind: Service
        version: v1
      - kind: Pod
        version: v1
      version: v2
      specDescriptors:
      - description: The backup strategy to use (full_only | full_incremental)
        displayName: Backup Strategy
        path: strategy
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The schedule a user wants the Operator to perform a full backup of the cluster.
        displayName: Full Backup Schedule
        path: full.schedule
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The schedule a user wants the Operator to perform an incremental backup of the cluster.
        displayName: Incremental Backup Schedule
        path: incremental.schedule
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: The amount of successful jobs to keep
        displayName: Job History Limit
        path: successfulJobsHistoryLimit
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: The field defines the size of the Persistent Volume to store backups.
        displayName: Size
        path: size
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:resourceRequirements
      - description: The field defines the schedule to use for full backup.
        displayName: Full
        path: full
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: This field defines the schedule a user wants the Operator to perform an incremental backup of the cluster.
        displayName: Incremental
        path: incremental
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: This field defines the amount of times one backup job will try to perform a backup.
        displayName: Back Off Limit
        path: backOffLimit
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:number
      - description: This field defines the time period in which to retain existing backups.
        displayName: Backup Retention
        path: backupRetention
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: This field defines the time period in which to retain backup logs.
        displayName: Log Retention Time
        path: logRetention
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:string
      - description: This field defines the amount of failed jobs to keep before Kubernetes starts deleting older ones.
        displayName: Failed Jobs History Limit
        path: failedJobsHistoryLimit
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:number
  description: |
    The Couchbase Autonomous Operator allows users to easily deploy, manage, and maintain Couchbase deployments on OpenShift. By installing this integration you will be able to deply Couchbase Server clusters with a single command.

    ## Supported Features

    * **Automated cluster provisioning** - Deploying a Couchbase Cluster has never been easier. Fill out a Couchbase specific configuration and let the Couchbase Operator take care of provisioning nodes and setting up cluster to your exact specification.

    * **On-demand scalability** - Automatically scale your cluster up or down by changing a simple configuration parameter and let the Couchbase Operator handle provisioning of new nodes and joining them into the cluster.

    * **Auto-recovery** - Detect Couchbase node failures, rebalance out bad nodes, and bring the cluster back up to the desired capacity. Auto-recovery is completely automated so you can sleep easy through the night knowing that the Couchbase Operator will handle any failures.

    * **Geo-distribution** - Replicate your data between datacenters to move data closer to the users who consume it and protect against disaster scenarios where an entire datacenter becomes unavailable.

    * **Persistent storage** - Define persistent network-attached storage for each node in your cluster to allow pods to be recovered even if the node they were running on is no longer available.

    * **Rack/zone awareness** - Tell the Couchbase Operator about availability zones in your datacenter and let the operator take care of ensuring that nodes in your cluster are deployed equally across each zone.

    * **Supportability** - When things go wrong, use the cbopinfo tool provided with the Couchbase Operator to collect relevant data about your Couchbase deployment so that you can quickly address issues.

    * **Centralized configuration management** - Manage your configuration centrally with OpenShift. Updates to the configuration are watched by the Couchbase Operator and actions are taken to make the target cluster match the desired configuration.
    ## Required Parameters
    * `authSecret` - provide the name of a secret that contains two keys for the `username` and `password` of the super user ([documentation](https://docs.couchbase.com/operator/1.2/couchbase-cluster-config.html))

    ## About Couchbase Server

    Built on the most powerful NoSQL technology, Couchbase Server delivers unparalleled performance at scale, in any cloud. With features like memory-first architecture, geo-distributed deployments, and workload isolation, Couchbase Server excels at supporting mission-critical applications at scale while maintaining submillisecond latencies and 99.999% availability. Plus, with the most comprehensive SQL-compatible query language (N1QL), migrating from RDBMS to Couchbase Server is easy with ANSI joins.
  displayName: Couchbase Operator
  icon:
  - base64data: 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
    mediatype: image/png
  install:
    spec:
      deployments:
      - name: couchbase-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: couchbase-operator
          strategy: {}
          template:
            metadata:
              labels:
                app: couchbase-operator
            spec:
              containers:
              - args:
                - --pod-create-timeout=10m0s
                command:
                - couchbase-operator
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                image: registry.hub.docker.com/couchbase/operator:2.0.0
                name: couchbase-operator
                ports:
                - containerPort: 8080
                  name: http
                - containerPort: 8383
                  name: prometheus
                resources: {}
              serviceAccountName: couchbase-operator
      permissions:
      - rules:
        - apiGroups:
          - batch
          resources:
          - jobs
          - cronjobs
          verbs:
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - couchbase.com
          resources:
          - couchbaseclusters
          verbs:
          - get
          - list
          - watch
          - update
        - apiGroups:
          - couchbase.com
          resources:
          - couchbasebuckets
          - couchbaseephemeralbuckets
          - couchbasememcachedbuckets
          - couchbasereplications
          - couchbaseusers
          - couchbasegroups
          - couchbaserolebindings
          - couchbasebackups
          verbs:
          - list
          - watch
        - apiGroups:
          - couchbase.com
          resources:
          - couchbasebackuprestores
          verbs:
          - list
          - watch
          - delete
        - apiGroups:
          - ""
          resources:
          - configmaps
          verbs:
          - get
          - create
          - update
        - apiGroups:
          - ""
          resources:
          - pods
          - services
          - persistentvolumeclaims
          verbs:
          - get
          - list
          - watch
          - create
          - update
          - delete
        - apiGroups:
          - ""
          resources:
          - pods/exec
          verbs:
          - create
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - list
          - create
          - update
        - apiGroups:
          - ""
          resources:
          - secrets
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - policy
          resources:
          - poddisruptionbudgets
          verbs:
          - get
          - create
          - delete
          - list
          - watch
        serviceAccountName: couchbase-operator
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: true
    type: AllNamespaces
  keywords:
  - couchbase
  - database
  - key value
  - nosql
  - open source
  labels:
    alm-owner-couchbase: couchbaseoperator
    operated-by: couchbaseoperator
  links:
  - name: Couchbase
    url: https://www.couchbase.com
  - name: Documentation
    url: https://docs.couchbase.com/operator/2.0/overview.html
  - name: Downloads
    url: https://www.couchbase.com/downloads
  maintainers:
  - email: support@couchbase.com
    name: Couchbase
  maturity: stable
  minKubeVersion: 1.13.0
  provider:
    name: Couchbase
  replaces: couchbase-operator.v1.2.2
  selector:
    matchLabels:
      alm-owner-couchbase: couchbaseoperator
      operated-by: couchbaseoperator
  version: 2.0.0
