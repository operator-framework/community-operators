# vim: nowrap
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [{
       "apiVersion": "instana.io/v1alpha1",
       "kind": "InstanaAgent",
       "metadata": {
          "name": "instana-agent",
          "namespace": "instana-agent"
       },
       "spec": {
          "agent.zone.name": "my-k8s-cluster",
          "agent.key": "_PUT_YOUR_AGENT_KEY_HERE_",
          "agent.endpoint.host": "saas-us-west-2.instana.io",
          "agent.endpoint.port": 443,
          "config.files": {
            "configuration.yaml": "# See https://docs.instana.io/quick_start/agent_setup/container/kubernetes/"
          }
       }
      }]
    categories: "Monitoring,OpenShift Optional"
    certified: "false"
    containerImage: instana/instana-agent-operator:0.0.2
    createdAt: 2019-04-23T14:17:43Z
    description: Instana APM Agent
    support: Instana
    repository: https://github.com/instana/instana-agent-operator
    capabilities: Basic Install
  name: instana-agent-operator.v0.0.2
  namespace: placeholder
spec:
  displayName: "Instana Agent Operator"
  description: |-
    # Kubernetes Operator for the Instana APM Agent
    
    This is an experimental alpha version of the upcoming Kubernetes Operator for the [Instana APM Agent](https://www.instana.com).
    
    This operator is intended to run in the `instana-agent` namespace. Before creating the subscription, please create the following resources:
    
    * `instana-agent` namespace
    * `instana-agent` operator group
    
    See [https://github.com/instana/instana-agent-operator/blob/master/docs/install-via-olm.md](https://github.com/instana/instana-agent-operator/blob/master/docs/install-via-olm.md) for documentation.
  icon:
   - base64data: PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA5NDUuOCA5NDUuOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTQ1LjggOTQ1Ljg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojQjdDMUM2O30KCS5zdDF7ZmlsbDojMTcyNDI5O30KCS5zdDJ7ZmlsbDpub25lO30KCS5zdDN7b3BhY2l0eTowLjU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cgkuc3Q0e2NsaXAtcGF0aDp1cmwoI1NWR0lEXzJfKTt9Cgkuc3Q1e2ZpbGw6I0ZGRkZGRjt9Cgkuc3Q2e2ZpbGw6dXJsKCNTVkdJRF8zXyk7fQoJLnN0N3tmaWxsOiMyMkQ4RDg7fQo8L3N0eWxlPgo8ZyBpZD0iR3J1cHBlXzFfeEEwX0JpbGRfMV8iPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTcxMC40LDM2My4xbC0yLjUtMC41YzAuOS0xMC4yLDEuNC0yMC44LDEuMS0zMC45Yy0wLjMtMTAuOC0zLjYtNTUuOC0xMi42LTgyLjQKCQkJYy00LjUtMTMuMi05LjMtMjUuOS0xOC4yLTM3LjNjLTEtMS4yLTItMi41LTMuMS0zLjhjLTEuMS0xLjQtMy40LTAuMy0zLDEuNWMxMS41LDQ5LjUsMTEsMTA0LjcsMi45LDE1NAoJCQljLTUuMywzMi4xLTEyLjgsNjkuNS0yOS42LDk3Yy0xOC42LDMwLjQtNTIuOCwzNy41LTgzLjcsNDIuMmMtMjkuMyw0LjUtODguOCw1LjEtODguOCw1LjFzLTU5LjYtMC43LTg4LjgtNS4xCgkJCWMtMzAuOC00LjctNjUuMS0xMS44LTgzLjctNDIuMmMtMTYuOC0yNy41LTI0LjMtNjUtMjkuNi05N2MtOC4xLTQ5LjItOC42LTEwNC40LDIuOS0xNTRjMC40LTEuNy0xLjgtMi44LTMtMS41CgkJCWMtMS4xLDEuMy0yLjEsMi42LTMuMSwzLjhjLTguOSwxMS40LTEzLjcsMjQtMTguMiwzNy4zYy05LDI2LjUtMTIuMyw3MS42LTEyLjYsODIuNGMtMC4zLDEwLjEsMC4yLDIwLjcsMS4xLDMwLjlsLTIuNSwwLjUKCQkJYy00LjcsMS03LjgsNC44LTcuMSw4LjlsMTQuOSw5NC43YzAuNiw0LjEsNC44LDcuMSw5LjYsN2wxMC44LTAuM2MyLjMsNS4yLDQuOCwxMC40LDcuNiwxNS40YzYuNywxMiwxNi4zLDIwLjksMjgsMjcuOAoJCQljMTEuMiw2LjcsMjMuNSwxMC4zLDM2LjEsMTMuMWMxNC43LDMuMywyOS42LDUuMyw0NC42LDdjMy45LDAuNSwxMC42LDEuMywxNC43LDEuOGMxLDAuMSwxLjIsMS41LDAuMiwxLjgKCQkJYy0xMS43LDMuNC0zNi42LDE0LjktNDcuNCwyNS4yYy0xMCw4LjgtMTkuMSwxOC40LTI2LjcsMjkuM2MtNi41LDkuNC0xMi40LDE5LjMtMTUuMywzMC42YzAsMC4xLDAsMC4xLDAsMC4yCgkJCWMtMi40LDkuNiwzLjMsMTkuNCwxMi43LDIyLjZjNDcuNCwxNS45LDk5LjcsMjQuNywxNTQuNywyNC43czEwNy4yLTguOCwxNTQuNy0yNC43YzkuNC0zLjIsMTUuMS0xMywxMi43LTIyLjZjMC0wLjEsMC0wLjEsMC0wLjIKCQkJYy0yLjktMTEuMy04LjctMjEuMS0xNS4zLTMwLjZjLTcuNi0xMC45LTE2LjctMjAuNi0yNi43LTI5LjNjLTEwLjktMTAuMy0zNS44LTIxLjgtNDcuNC0yNS4yYy0wLjktMC4zLTAuNy0xLjcsMC4yLTEuOAoJCQljNC4xLTAuNSwxMC44LTEuMywxNC43LTEuOGMxNS0xLjgsMjkuOS0zLjcsNDQuNi03YzEyLjYtMi44LDI0LjktNi40LDM2LjEtMTMuMWMxMS43LTYuOSwyMS4zLTE1LjgsMjgtMjcuOAoJCQljMi44LTUsNS4zLTEwLjIsNy42LTE1LjRsMTAuOCwwLjNjNC44LDAuMSw4LjktMi45LDkuNi03bDE0LjktOTQuN0M3MTguMSwzNjcuOSw3MTUsMzY0LjEsNzEwLjQsMzYzLjF6Ii8+CgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTgwOSw4MTUuMWwtMjMuOS02Ni4zbC0wLjEtMC4zYy0zLjctOS40LTEyLjctMTUuNS0yMi44LTE1LjVzLTE5LDYuMS0yMi44LDE1LjRMNzE1LjIsODE1CgkJCWMtMC43LDEuOS0wLjgsMy45LTAuNCw1LjhjMS4xLDQuOSw1LjQsOC40LDEwLjIsOC40aDMzLjJjMi45LDAsNS4zLTEuOCw2LTQuNXMtMC42LTUuNS0zLjEtNi45bC0yMC42LTExLjRsMTguMy01MC41CgkJCWMwLjYtMS40LDEuOS0yLjIsMy40LTIuMnMyLjgsMC45LDMuNCwyLjJsMjMuOCw2Ni4xYzEuNSw0LjEsNS40LDYuOSw5LjgsNi45YzEuMiwwLDIuNC0wLjIsMy41LTAuNmMyLjYtMC45LDQuNy0yLjgsNS45LTUuNAoJCQlDODA5LjgsODIwLjUsODEwLDgxNy43LDgwOSw4MTUuMXogTTE4MC44LDgxNS43Yy0zLjUtMS45LTcuNS00LjEtOS4xLTV2LTU1LjhsNy4xLTRjMi4yLTEuMiwzLjYtMy42LDMuOC02LjMKCQkJYzAuMi0zLTAuOS01LjgtMy4yLTcuNmMtMS41LTEuMi0zLjItMS40LTQuNC0xLjRoLTI3LjZjLTEuMywwLTIuOSwwLjItNC40LDEuNGMtMi4yLDEuOC0zLjQsNC42LTMuMiw3LjZjMC4yLDIuNywxLjcsNS4xLDMuOCw2LjMKCQkJbDcuMSw0djU0LjVoLTQuOGMtNS4zLDAtOS44LDQuNy05LjgsMTAuM2MwLDUuNSw0LjUsMTAuMSw5LjgsMTAuMWgzMi44YzIuOCwwLDUuMS0xLjksNS45LTQuOUMxODUuNSw4MjIsMTg0LjYsODE3LjgsMTgwLjgsODE1LjcKCQkJeiBNNjg2LjksNzMzLjFjLTUuOCwwLTEwLjUsNC43LTEwLjUsMTAuNHY2NC4zaC0yLjJjLTAuMiwwLTAuMywwLTAuMywwbC0yOS44LTYxLjVjLTMuNi03LjItMTAuNy0xMS41LTE5LjEtMTEuNWgtMTEuNAoJCQljLTYsMC0xMC44LDQuNC0xMC44LDkuOXY3NC41YzAsNS43LDQuNywxMC40LDEwLjUsMTAuNHMxMC41LTQuNywxMC41LTEwLjR2LTYzLjdoMS4yYzAuMiwwLDAuMywwLDAuMywwbDI5LjksNjIuMgoJCQljMy43LDcuNSwxMSwxMi4yLDE5LjEsMTIuMmgxMi40YzUuNiwwLDEwLjctNS4zLDEwLjctMTEuMnYtNzUuMUM2OTcuNCw3MzcuOCw2OTIuNyw3MzMuMSw2ODYuOSw3MzMuMXogTTQ4MS4zLDczNi4zaC02Ni43CgkJCWMtNS44LDAtMTAuNCw0LjUtMTAuNCwxMC4zczQuNiwxMC4zLDEwLjQsMTAuM2gyMy4xVjgxOGMwLDUuOCw0LjUsMTAuNCwxMC4zLDEwLjRzMTAuMy00LjYsMTAuMy0xMC40di02MS4xaDIyLjkKCQkJYzUuOCwwLDEwLjQtNC41LDEwLjQtMTAuM1M0ODcuMSw3MzYuMyw0ODEuMyw3MzYuM3ogTTI4Ny40LDczNC45Yy01LjcsMC0xMC4zLDQuNy0xMC4zLDEwLjR2NjIuNWgtMi4yYy0wLjIsMC0wLjMsMC0wLjMsMAoJCQlsLTI5LjgtNjEuNWMtMy42LTcuMi0xMC43LTExLjUtMTkuMS0xMS41aC0xMS40Yy02LDAtMTAuOCw0LjQtMTAuOCw5Ljl2NzQuNWMwLDUuNyw0LjcsMTAuNCwxMC41LDEwLjRzMTAuNS00LjcsMTAuNS0xMC40di02My43CgkJCWgxLjJjMC4yLDAsMC4zLDAsMC4zLDBsMjkuOSw2Mi4yYzMuNyw3LjUsMTEsMTIuMiwxOS4xLDEyLjJoMTIuNGM1LjUsMCwxMC40LTUuMiwxMC40LTExLjJ2LTczLjMKCQkJQzI5Ny44LDczOS42LDI5My4xLDczNC45LDI4Ny40LDczNC45eiBNNTYwLjksNzQ4LjhsLTAuMS0wLjNjLTMuNy05LjQtMTIuNy0xNS41LTIyLjgtMTUuNXMtMTksNi4xLTIyLjgsMTUuNEw0OTEsODE1LjEKCQkJYy0wLjcsMS45LTAuOCwzLjktMC40LDUuOGMxLjEsNC45LDUuNCw4LjQsMTAuMiw4LjRINTM0YzIuOSwwLDUuMy0xLjgsNi00LjVzLTAuNi01LjUtMy4xLTYuOWwtMjAuNi0xMS40bDE4LjMtNTAuNQoJCQljMC42LTEuMywxLjktMi4yLDMuNC0yLjJzMi44LDAuOSwzLjQsMi4ybDIzLjgsNjYuMWMxLjUsNC4xLDUuNCw2LjksOS44LDYuOWMxLjIsMCwyLjQtMC4yLDMuNS0wLjZjNS40LTEuOSw4LjItNy45LDYuMy0xMy4zCgkJCUw1NjAuOSw3NDguOHogTTM3OC4zLDc4MC42bC0zMi0xNC43Yy0yLjktMS4yLTcuOC0zLjgtNy44LTcuM2MwLTIuMiwxLjgtNCw0LTRoMjhjMS43LDAsMywwLjgsMy43LDIuNGMxLjgsNC4zLDUuMiw2LjcsOS40LDYuNwoJCQljMSwwLDIuMS0wLjIsMy0wLjVjMi41LTAuOCw0LjYtMi42LDUuOC00LjljMS4yLTIuNCwxLjQtNSwwLjYtNy42Yy0zLjQtMTAuNS0xMS4yLTE2LTIyLjQtMTZoLTI4Yy0xMy4xLDAtMjMuOCwxMC43LTIzLjgsMjMuOAoJCQljMCwxMSw3LDIwLDE5LjcsMjUuNGwzMi4xLDE0LjhjMS4zLDAuNSw3LjcsMy4zLDcuNyw3LjJjMCwyLjItMS44LDQtNCw0aC0zNC41Yy0xLjksMC0zLjgtMS4yLTQuMy0yLjhjLTEuMy00LjEtNS4xLTYuOS05LjQtNi45CgkJCWMtMSwwLTIuMSwwLjItMy4xLDAuNWMtMi41LDAuOC00LjYsMi42LTUuOCw0LjljLTEuMSwyLjItMS40LDQuOC0wLjYsNy41YzIuOSwxMC43LDExLjIsMTYuNSwyMy4xLDE2LjVoMzQuNQoJCQljMTMuMSwwLDIzLjgtMTAuNywyMy44LTIzLjhDMzk4LDc5NS4xLDM5MC44LDc4NS44LDM3OC4zLDc4MC42eiIvPgoJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik03MTAuNCwzNjMuMWwtMi41LTAuNWMwLjktMTAuMiwxLjQtMjAuOCwxLjEtMzAuOWMtMC4zLTEwLjgtMy42LTU1LjgtMTIuNi04Mi40CgkJCWMtNC41LTEzLjItOS4zLTI1LjktMTguMi0zNy4zYy0xLTEuMi0yLTIuNS0zLjEtMy44Yy0xLjEtMS40LTMuNC0wLjMtMywxLjVjMTEuNSw0OS41LDExLDEwNC43LDIuOSwxNTQKCQkJYy01LjMsMzIuMS0xMi44LDY5LjUtMjkuNiw5N2MtMTguNiwzMC40LTUyLjgsMzcuNS04My43LDQyLjJjLTI5LjMsNC41LTg4LjgsNS4xLTg4LjgsNS4xcy01OS42LTAuNy04OC44LTUuMQoJCQljLTMwLjgtNC43LTY1LjEtMTEuOC04My43LTQyLjJjLTE2LjgtMjcuNS0yNC4zLTY1LTI5LjYtOTdjLTguMS00OS4yLTguNi0xMDQuNCwyLjktMTU0YzAuNC0xLjctMS44LTIuOC0zLTEuNQoJCQljLTEuMSwxLjMtMi4xLDIuNi0zLjEsMy44Yy04LjksMTEuNC0xMy43LDI0LTE4LjIsMzcuM2MtOSwyNi41LTEyLjMsNzEuNi0xMi42LDgyLjRjLTAuMywxMC4xLDAuMiwyMC43LDEuMSwzMC45bC0yLjUsMC41CgkJCWMtNC43LDEtNy44LDQuOC03LjEsOC45bDE0LjksOTQuN2MwLjYsNC4xLDQuOCw3LjEsOS42LDdsMTAuOC0wLjNjMi4zLDUuMiw0LjgsMTAuNCw3LjYsMTUuNGM2LjcsMTIsMTYuMywyMC45LDI4LDI3LjgKCQkJYzExLjIsNi43LDIzLjUsMTAuMywzNi4xLDEzLjFjMTQuNywzLjMsMjkuNiw1LjMsNDQuNiw3YzMuOSwwLjUsMTAuNiwxLjMsMTQuNywxLjhjMSwwLjEsMS4yLDEuNSwwLjIsMS44CgkJCWMtMTEuNywzLjQtMzYuNiwxNC45LTQ3LjQsMjUuMmMtMTAsOC44LTE5LjEsMTguNC0yNi43LDI5LjNjLTYuNSw5LjQtMTIuNCwxOS4zLTE1LjMsMzAuNmMwLDAuMSwwLDAuMSwwLDAuMgoJCQljLTIuNCw5LjYsMy4zLDE5LjQsMTIuNywyMi42YzQ3LjQsMTUuOSw5OS43LDI0LjcsMTU0LjcsMjQuN3MxMDcuMi04LjgsMTU0LjctMjQuN2M5LjQtMy4yLDE1LjEtMTMsMTIuNy0yMi42YzAtMC4xLDAtMC4xLDAtMC4yCgkJCWMtMi45LTExLjMtOC43LTIxLjEtMTUuMy0zMC42Yy03LjYtMTAuOS0xNi43LTIwLjYtMjYuNy0yOS4zYy0xMC45LTEwLjMtMzUuOC0yMS44LTQ3LjQtMjUuMmMtMC45LTAuMy0wLjctMS43LDAuMi0xLjgKCQkJYzQuMS0wLjUsMTAuOC0xLjMsMTQuNy0xLjhjMTUtMS44LDI5LjktMy43LDQ0LjYtN2MxMi42LTIuOCwyNC45LTYuNCwzNi4xLTEzLjFjMTEuNy02LjksMjEuMy0xNS44LDI4LTI3LjgKCQkJYzIuOC01LDUuMy0xMC4yLDcuNi0xNS40bDEwLjgsMC4zYzQuOCwwLjEsOC45LTIuOSw5LjYtN2wxNC45LTk0LjdDNzE4LjEsMzY3LjksNzE1LDM2NC4xLDcxMC40LDM2My4xeiIvPgoJCTxnIGNsYXNzPSJzdDMiPgoJCQk8Zz4KCQkJCTxkZWZzPgoJCQkJCTxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTY0MC4zLDYyNS42Yy0yLjktMTEuMy04LjctMjEuMS0xNS4zLTMwLjZjLTcuNi0xMC45LTE2LjctMjAuNi0yNi43LTI5LjMKCQkJCQkJYy0xMC45LTEwLjMtMzUuOC0yMS44LTQ3LjQtMjUuMmMtMC45LTAuMy0wLjctMS43LDAuMi0xLjhjNC4xLTAuNS00MC44LDEuNy03OC4yLDEuN3MtODIuMy0yLjItNzguMi0xLjcKCQkJCQkJYzEsMC4xLDEuMiwxLjUsMC4yLDEuOGMtMTEuNywzLjQtMzYuNiwxNC45LTQ3LjQsMjUuMmMtMTAsOC44LTE5LjEsMTguNC0yNi43LDI5LjNjLTYuNSw5LjQtMTIuNCwxOS4zLTE1LjMsMzAuNgoJCQkJCQljMCwwLjEsMCwwLjEsMCwwLjJjLTIuNCw5LjYsMy4zLDE5LjQsMTIuNywyMi42YzQ3LjQsMTUuOSw5OS43LDI0LjcsMTU0LjcsMjQuN3MxMDcuMi04LjgsMTU0LjctMjQuNwoJCQkJCQljOS40LTMuMiwxNS4xLTEzLDEyLjctMjIuNkM2NDAuMyw2MjUuNyw2NDAuMyw2MjUuNiw2NDAuMyw2MjUuNnoiLz4KCQkJCTwvZGVmcz4KCQkJCTxjbGlwUGF0aCBpZD0iU1ZHSURfMl8iPgoJCQkJCTx1c2UgeGxpbms6aHJlZj0iI1NWR0lEXzFfIiAgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7Ii8+CgkJCQk8L2NsaXBQYXRoPgoJCQkJPGcgY2xhc3M9InN0NCI+CgkJCQkJCgkJCQkJCTxpbWFnZSBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTtvcGFjaXR5OjAuNzU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIHdpZHRoPSI1NzAiIGhlaWdodD0iMjE3IiB4bGluazpocmVmPSJFRTIyMjFEQURDNTc2RDE2LnBuZyIgIHRyYW5zZm9ybT0ibWF0cml4KDAuOTk4MiAwIDAgMC45OTU0IDE4OC42MTY3IDQxMi42ODI1KSI+CgkJCQkJPC9pbWFnZT4KCQkJCQk8Zz4KCQkJCQkJPGVsbGlwc2UgY2xhc3M9InN0NSIgY3g9IjQ3MyIgY3k9IjQ5Ny41IiByeD0iMjE1LjciIHJ5PSIzOC44Ii8+CgkJCQkJPC9nPgoJCQkJPC9nPgoJCQk8L2c+CgkJPC9nPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjUuMiwyNjEuNmMtMi41LDM3LjYtMC4yLDc1LjMsNy4xLDExMi4yYzYuOCwzNC4xLDEyLjIsNzAuMSwzNS42LDk4LjJjMjAsMjQsNTUuNywzMC43LDg0LDM0LjEKCQkJYzI2LjgsMy4yLDgxLDMuOSw4MSwzLjlzNTQuMi0wLjcsODEtMy45YzI4LjQtMy4zLDY0LTEwLjEsODQtMzQuMWMyMy40LTI4LjEsMjguOC02NC4xLDM1LjYtOTguMmM3LjQtMzYuOSw5LjYtNzQuNiw3LjEtMTEyLjIKCQkJYy0wLjktMTQuNC0yLjgtMjkuMi01LjMtNDMuNmMtMS41LTktNi4xLTE3LjItMTIuOC0yMy4zYy04LjItNy41LTE4LjktMTYuMy0zMy4zLTI2LjZjLTEzLjMtOS42LTI3LjEtMTguNC00Mi4yLTI1LjIKCQkJYy0xOS40LTguOC0zOS40LTE2LTYwLjMtMjAuNGMtMTYuMi0zLjUtMzkuMi02LjUtNTQtNi41cy0zNy43LDMtNTQsNi41Yy0yMC45LDQuNS00MC44LDExLjYtNjAuMywyMC40CgkJCWMtMTUsNi44LTI4LjksMTUuNi00Mi4yLDI1LjJjLTE0LjQsMTAuNC0yNS4xLDE5LjEtMzMuMywyNi42Yy02LjcsNi4xLTExLjIsMTQuMy0xMi43LDIzLjNDMjY4LjEsMjMyLjUsMjY2LjIsMjQ3LjIsMjY1LjIsMjYxLjZ6CgkJCSIvPgoJCQoJCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzNfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjMwNy40OTQ2IiB5MT0iNTA2LjcxMjMiIHgyPSI1NTcuNDM3IiB5Mj0iODA3LjQ3MjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA5NDQuOCkiPgoJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojNDM1NjVFIi8+CgkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMxNzI0MjkiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxwYXRoIGNsYXNzPSJzdDYiIGQ9Ik01NDIuNCwyMzguNWM0NSwwLDg4LjQsNywxMjkuMSwyMGMtMS0xMi4xLTIuNi0yNC40LTQuNi0zNi41Yy0xLjUtOC42LTUuOC0xNi40LTEyLjItMjIuMwoJCQljLTcuOS03LjItMTguMS0xNS42LTMxLjktMjUuNWMtMTIuOC05LjItMjYtMTcuNi00MC40LTI0LjFjLTE4LjYtOC40LTM3LjctMTUuMy01Ny43LTE5LjZjLTE1LjUtMy4zLTM3LjYtNi4yLTUxLjctNi4yCgkJCXMtMzYuMiwyLjktNTEuNyw2LjJjLTIwLDQuMy0zOS4xLDExLjItNTcuNywxOS42Yy0xNC40LDYuNS0yNy42LDE1LTQwLjQsMjQuMWMtMTMuOCw5LjktMjQuMSwxOC4zLTMxLjksMjUuNQoJCQljLTYuNCw1LjktMTAuNywxMy43LTEyLjIsMjIuM2MtMi40LDEzLjktNC4xLDI4LTUsNDEuOGMtMS41LDIzLjItMS4xLDQ2LjQsMS4yLDY5LjRDMzQ4LjEsMjc0LDQ0MS4xLDIzOC41LDU0Mi40LDIzOC41eiIvPgoJCTxnPgoJCQkKCQkJCTxlbGxpcHNlIHRyYW5zZm9ybT0ibWF0cml4KDAuOTk3NiAtNi45NzE1ODZlLTAyIDYuOTcxNTg2ZS0wMiAwLjk5NzYgLTI4LjA1MTYgMjYuMDU5MykiIGNsYXNzPSJzdDciIGN4PSIzNTkuMyIgY3k9IjQxNC45IiByeD0iMjMuNiIgcnk9IjI5LjkiLz4KCQkJPHBhdGggY2xhc3M9InN0NyIgZD0iTTU4NC40LDQ0NC44YzEzLDAuOCwyNC41LTExLjksMjUuOC0yOC40cy04LjMtMzAuNi0yMS4yLTMxLjRjLTEzLTAuOC0yNC41LDExLjktMjUuOCwyOC40CgkJCQlTNTcxLjUsNDQzLjksNTg0LjQsNDQ0Ljh6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=
     mediatype: image/svg+xml
  version: 0.0.2
  minKubeVersion: 1.11.0
  provider:
    name: Instana
  links:
    - name: GitHub Repository
      url: https://github.com/instana/instana-agent-operator
  keywords: ['monitoring', 'APM', 'Instana']
  maintainers:
    - email: support@instana.com
      name: Instana
  maturity: alpha
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
      - description: Instana Agent
        displayName: Instana Agent
        kind: InstanaAgent
        name: agents.instana.io
        version: v1alpha1
        statusDescriptors:
          - description: Name of the Kubernetes Cluster
            displayName: zone
            path: agent.zone.name
          - description: Your Instana API key
            displayName: key
            path: agent.key
          - description: Endpoint hostname the Instana agent should connect to. Might be adjusted depending on your deployment type (SaaS or On-Premises) and region.
            displayName: endpoint.host
            path: agent.endpoint.host
          - description: Endpoint port the Instana agent should connect to. Might be adjusted depending on your deployment type (SaaS or On-Premises) and region.
            displayName: endpoint.port
            path: agent.endpoint.port
          - description: configuration.yaml file that will be copied into the Instana agent instances.
            displayName: configuration.yaml
            path: config.files.configuration.yaml
  install:
    strategy: deployment
    spec:
      clusterPermissions:
        - serviceAccountName: instana-agent-operator
          rules:
          # TODO: This is an experimental alpha version. We didn't clean up the permissions yet,
          # so these are probably more rights than needed for running the operator.
          # This will be cleaned up before promoting the operator to beta.
          - apiGroups: ["", "apps", "extensions", "rbac.authorization.k8s.io"] # "" indicates the core API group
            resources:
            - pods
            - pods/exec
            - services
            - endpoints
            - persistentvolumeclaims
            - events
            - configmaps
            - secrets
            - replicasets
            - deployments
            - daemonsets
            - clusterroles
            - clusterrolebindings
            - serviceaccounts
            verbs:
            - '*'
          - apiGroups: ["apiextensions.k8s.io", "customresourcedefinitions.apiextensions.k8s.io"]
            resources:
            - customresourcedefinitions
            verbs:
            - list
          - apiGroups: ["instana.io"]
            resources:
            - agents
            verbs:
            - watch
            - list
            - get
            - update
      deployments:
        - name: instana-agent-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                k8s-app: instana-agent-operator
            template:
              metadata:
                labels:
                  k8s-app: instana-agent-operator
              spec:
                serviceAccount: instana-agent-operator
                containers:
                - image: instana/instana-agent-operator:0.0.2
                  name: instana-agent-operator
                  imagePullPolicy: IfNotPresent
                  env:
                  - name: POD_NAMESPACE
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.namespace
                  - name: POD_NAME
                    valueFrom:
                      fieldRef:
                        fieldPath: metadata.name
                  ports:
                  - containerPort: 8080 # health
  installModes:
    - type: OwnNamespace
      supported: true
    - type: SingleNamespace
      supported: true
    - type: MultiNamespace
      supported: true
    - type: AllNamespaces
      supported: true
